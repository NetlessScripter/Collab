AllowedPlayers = {
    "Hitmeforgamepass",
    "veyzak",
    "Player3"
}
local function isAllowed(player)
    for _, name in ipairs(AllowedPlayers) do
        if player.Name == name then
            return true
        end
    end
    return false
end
local PlayerConnections = {}
local function cleanupPlayer(player)
	if PlayerConnections[player] then
		for _, connection in ipairs(PlayerConnections[player]) do
			if connection.Connected then
				connection:Disconnect()
			end
		end
		PlayerConnections[player] = nil
	end
end
local CameraShakeState = {
	FadingIn = 0,
	FadingOut = 1,
	Sustained = 2,
	Inactive = 3
}
local function newCameraShakeInstance(magnitude, roughness, fadeInTime, fadeOutTime)
	fadeInTime = fadeInTime or 0
	fadeOutTime = fadeOutTime or 0
	assert(type(magnitude) == "number", "Magnitude must be a number")
	assert(type(roughness) == "number", "Roughness must be a number")
	assert(type(fadeInTime) == "number", "FadeInTime must be a number")
	assert(type(fadeOutTime) == "number", "FadeOutTime must be a number")
	local instance = {}
	instance.Magnitude = magnitude
	instance.Roughness = roughness
	instance.PositionInfluence = Vector3.new()
	instance.RotationInfluence = Vector3.new()
	instance.DeleteOnInactive = true
	instance.roughMod = 1
	instance.magnMod = 1
	instance.fadeOutDuration = fadeOutTime
	instance.fadeInDuration = fadeInTime
	instance.sustain = (fadeInTime > 0)
	instance.currentFadeTime = (fadeInTime > 0) and 0 or 1
	instance.tick = Random.new():NextNumber(-100, 100)
	function instance:UpdateShake(deltaTime)
		local tick = self.tick
		local fadeTime = self.currentFadeTime
		if self.fadeInDuration > 0 and self.sustain then
			if fadeTime < 1 then
				fadeTime = fadeTime + deltaTime / self.fadeInDuration
			elseif self.fadeOutDuration > 0 then
				self.sustain = false
			end
		end
		if not self.sustain then
			fadeTime = fadeTime - deltaTime / self.fadeOutDuration
		end
		if self.sustain then
			self.tick = tick + deltaTime * self.Roughness * self.roughMod
		else
			self.tick = tick + deltaTime * self.Roughness * self.roughMod * fadeTime
		end
		self.currentFadeTime = fadeTime
		return Vector3.new(
			math.noise(tick, 0) * 0.5,
			math.noise(0, tick) * 0.5,
			math.noise(tick, tick) * 0.5
		) * self.Magnitude * self.magnMod * fadeTime
	end
	function instance:StartFadeOut(fadeOutTime)
		if fadeOutTime == 0 then
			self.currentFadeTime = 0
		end
		self.fadeOutDuration = fadeOutTime
		self.fadeInDuration = 0
		self.sustain = false
	end
	function instance:StartFadeIn(fadeInTime)
		if fadeInTime == 0 then
			self.currentFadeTime = 1
		end
		fadeInTime = fadeInTime or self.fadeInDuration
		self.fadeInDuration = fadeInTime
		self.fadeOutDuration = 0
		self.sustain = true
	end
	function instance:GetScaleRoughness()
		return self.roughMod
	end
	function instance:SetScaleRoughness(mod)
		self.roughMod = mod
	end
	function instance:GetScaleMagnitude()
		return self.magnMod
	end
	function instance:SetScaleMagnitude(mod)
		self.magnMod = mod
	end
	function instance:GetNormalizedFadeTime()
		return self.currentFadeTime
	end
	function instance:IsShaking()
		return self.currentFadeTime > 0 or self.sustain
	end
	function instance:IsFadingOut()
		return (not self.sustain) and self.currentFadeTime > 0
	end
	function instance:IsFadingIn()
		return self.currentFadeTime < 1 and self.sustain and self.fadeInDuration > 0
	end
	function instance:GetState()
		if self:IsFadingIn() then
			return CameraShakeState.FadingIn
		elseif self:IsFadingOut() then
			return CameraShakeState.FadingOut
		elseif self:IsShaking() then
			return CameraShakeState.Sustained
		else
			return CameraShakeState.Inactive
		end
	end
	return instance
end
local Presets = {
	LightHit = function()
		local shake = newCameraShakeInstance(4, 7, 0.1, 0.75)
		shake.PositionInfluence = Vector3.new(0.25, 0.25, 0)
		shake.RotationInfluence = Vector3.new(0, 0, 0)
		return shake
	end,
	MediumHit = function()
		local shake = newCameraShakeInstance(6, 9.5, 0.1, 0.85)
		shake.PositionInfluence = Vector3.new(0.325, 0.325, 0)
		shake.RotationInfluence = Vector3.new(0, 0, 0)
		return shake
	end,
	HeavyHit = function()
		local shake = newCameraShakeInstance(8, 14, 0, 1.25)
		shake.PositionInfluence = Vector3.new(0.5, 0.5, 0)
		shake.RotationInfluence = Vector3.new(0, 0, 0)
		return shake
	end,
	Snap = function()
		local shake = newCameraShakeInstance(8, 25, 0, 0.7)
		shake.PositionInfluence = Vector3.new(0.6, 0.6, 0)
		shake.RotationInfluence = Vector3.new(0, 0, 0)
		return shake
	end,
	SnapOh = function()
		local shake = newCameraShakeInstance(8, 25, 0, 1.4)
		shake.PositionInfluence = Vector3.new(0.6, 0.6, 0)
		shake.RotationInfluence = Vector3.new(0, 0, 0)
		return shake
	end,
	LightLoop = function()
		local shake = newCameraShakeInstance(7, 7, 0.04, 0.04)
		shake.PositionInfluence = Vector3.new(0.1, 0.1, 0)
		shake.RotationInfluence = Vector3.new(0, 0, 0)
		return shake
	end,
	HeavyLoop = function()
		local shake = newCameraShakeInstance(7, 12, 0.03, 0.03)
		shake.PositionInfluence = Vector3.new(0.3, 0.3, 0)
		shake.RotationInfluence = Vector3.new(0, 0, 0)
		return shake
	end,
	SmallBump = function()
		local shake = newCameraShakeInstance(2.5, 4, 0.1, 0.75)
		shake.PositionInfluence = Vector3.new(0.01, 0.01, 0.01)
		shake.RotationInfluence = Vector3.new(0.25, 0.25, 0.25)
		return shake
	end,
	QuickBumpSmall = function()
		local shake = newCameraShakeInstance(4, 14, 0, 0.3)
		shake.PositionInfluence = Vector3.new(0.12, 0.18, 0.12)
		shake.RotationInfluence = Vector3.new(1.2, 1.2, 1.2)
		return shake
	end,
	ViolentBump = function()
		local shake = newCameraShakeInstance(4.5, 13.5, 0.1, 0.35)
		shake.PositionInfluence = Vector3.new(0.3, 0.3, 0.3)
		shake.RotationInfluence = Vector3.new(1.4, 1.4, 1.4)
		return shake
	end
}
local CameraShaker = {}
function CameraShaker.new(renderPriority, callback)
	assert(type(renderPriority) == "number", "RenderPriority must be a number (e.g.: Enum.RenderPriority.Camera.Value)")
	assert(type(callback) == "function", "Callback must be a function")
	local shaker = {}
	shaker._running = false
	shaker._renderName = "CameraShaker"
	shaker._renderPriority = renderPriority
	shaker._camShakeInstances = {}
	shaker._removeInstances = {}
	shaker._callback = callback
	function shaker:Start()
		if not self._running then
			self._running = true
			local callback = self._callback
			game:GetService("RunService"):BindToRenderStep(self._renderName, self._renderPriority, function(deltaTime)
				debug.profilebegin("CameraShakerUpdate")
				debug.profileend()
				callback(self:Update(deltaTime))
			end)
		end
	end
	function shaker:Stop()
		if self._running then
			game:GetService("RunService"):UnbindFromRenderStep(self._renderName)
			self._running = false
		end
	end
	function shaker:StopSustained(fadeOutTime)
		for _, instance in pairs(self._camShakeInstances) do
			if instance.fadeOutDuration == 0 then
				instance:StartFadeOut(fadeOutTime or instance.fadeInDuration)
			end
		end
	end
	function shaker:Update(deltaTime)
		local instances = self._camShakeInstances
		local posAddShake = Vector3.new()
		local rotAddShake = Vector3.new()
		for i = 1, #instances do
			local instance = instances[i]
			local state = instance:GetState()
			if state == CameraShakeState.Inactive and instance.DeleteOnInactive then
				table.insert(self._removeInstances, i)
			elseif state ~= CameraShakeState.Inactive then
				local shakeOffset = instance:UpdateShake(deltaTime)
				posAddShake = posAddShake + shakeOffset * instance.PositionInfluence
				rotAddShake = rotAddShake + shakeOffset * instance.RotationInfluence
			end
		end
		for i = #self._removeInstances, 1, -1 do
			table.remove(instances, self._removeInstances[i])
			self._removeInstances[i] = nil
		end
		return CFrame.new(posAddShake) 
			* CFrame.Angles(0, math.rad(rotAddShake.Y), 0) 
			* CFrame.Angles(math.rad(rotAddShake.X), 0, math.rad(rotAddShake.Z))
	end
	function shaker:Shake(shakeInstance)
		if not _G.Settings or not _G.Settings.ScreenShake then
			if not _G.Settings then
				_G.Settings = {ScreenShake = true}
			end
		end
		if not _G.Settings.ScreenShake then
			return {StartFadeOut = function() end, StartFadeIn = function() end}
		end
		assert(type(shakeInstance) == "table", "ShakeInstance must be a CameraShakeInstance")
		table.insert(self._camShakeInstances, shakeInstance)
		return shakeInstance
	end
	function shaker:ShakeSustain(shakeInstance)
		if not _G.Settings or not _G.Settings.ScreenShake then
			if not _G.Settings then
				_G.Settings = {ScreenShake = true}
			end
		end
		if not _G.Settings.ScreenShake then
			return {StartFadeOut = function() end, StartFadeIn = function() end}
		end
		assert(type(shakeInstance) == "table", "ShakeInstance must be a CameraShakeInstance")
		table.insert(self._camShakeInstances, shakeInstance)
		shakeInstance:StartFadeIn(shakeInstance.fadeInDuration)
		return shakeInstance
	end
	function shaker:ShakeOnce(preset, magnitude, roughness, fadeInTime, posInfluence, rotInfluence)
		if not _G.Settings or not _G.Settings.ScreenShake then
			if not _G.Settings then
				_G.Settings = {ScreenShake = true}
			end
		end
		if not _G.Settings.ScreenShake then
			return {StartFadeOut = function() end, StartFadeIn = function() end}
		end
		local instance = newCameraShakeInstance(magnitude, roughness, fadeInTime)
		instance.PositionInfluence = (typeof(posInfluence) == "Vector3") and posInfluence or Vector3.new(0.15, 0.15, 0.15)
		instance.RotationInfluence = (typeof(rotInfluence) == "Vector3") and rotInfluence or Vector3.new(1, 1, 1)
		table.insert(self._camShakeInstances, instance)
		return instance
	end
	function shaker:StartShake(preset, magnitude, roughness, posInfluence, rotInfluence)
		if not _G.Settings or not _G.Settings.ScreenShake then
			if not _G.Settings then
				_G.Settings = {ScreenShake = true}
			end
		end
		if not _G.Settings.ScreenShake then
			return {StartFadeOut = function() end, StartFadeIn = function() end}
		end
		local instance = newCameraShakeInstance(magnitude, roughness)
		instance.PositionInfluence = (typeof(posInfluence) == "Vector3") and posInfluence or Vector3.new(0.15, 0.15, 0.15)
		instance.RotationInfluence = (typeof(rotInfluence) == "Vector3") and rotInfluence or Vector3.new(1, 1, 1)
		instance:StartFadeIn(roughness)
		table.insert(self._camShakeInstances, instance)
		return instance
	end
	return shaker
end
local CurrentShaker = CameraShaker.new(Enum.RenderPriority.Camera.Value, function(shakeCFrame)
	workspace.CurrentCamera.CFrame = workspace.CurrentCamera.CFrame * shakeCFrame
end)
CurrentShaker:Start()
local Debris = game:GetService("Debris")
local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local SoundCache = {}
local function SFX(path, vol, parent, tpos)
	local name = path:match("([^/]+)%?") or path:match("([^/]+)$")
	local file = name .. ".mp3"
	if not isfile(file) then
		writefile(file, game:HttpGet(path))
	end
	if SoundCache[name] then
		local cachedSound = SoundCache[name]
		cachedSound.TimePosition = tpos or 0
		cachedSound.Volume = vol or 1
		cachedSound:Play()
		return cachedSound
	end
	local s = Instance.new("Sound")
	s.Name = name
	s.SoundId = (getcustomasset or getsynasset)(file)
	s.Volume = vol or 1
	s.TimePosition = tpos or 0
	s.Parent = parent or workspace
	s.Looped = false
	SoundCache[name] = s
	s:Play()
	return s
end
local function RBXSFX(id, vol, par, tpos)
	local s = Instance.new("Sound")
	local str = tostring(id)
	s.Name = str:match("%d+") or "RBXSound"
	s.SoundId = str:match("rbxassetid://") and str or "rbxassetid://" .. str
	s.Volume = vol or 1
	s.TimePosition = tpos or 0
	s.Parent = par or workspace
	s.Looped = false
	s:Play()
	return s
end
local function Swing(character)
	task.spawn(function()
		if not character then return end
		local h = character:FindFirstChild("HumanoidRootPart")
		if not h then return end
		local l = Instance.new("PointLight")
		l.Name = "BlackFlashLight"
		l.Brightness = 15
		l.Color = Color3.fromRGB(255,0,0)
		l.Enabled = true
		l.Range = 9
		l.Shadows = true
		l.Parent = h
		local t = 1
		local s = tick()
		local b = l.Brightness
		while true do
			local e = tick() - s
			if e >= t then break end
			l.Brightness = b * (1 - (e / t))
			task.wait()
		end
		l.Brightness = 0
		l.Enabled = false
		l:Destroy()
	end)
end
local function CSP(character)
	if not character then return end
	local hrp = character:FindFirstChild("HumanoidRootPart")
	if not hrp then return end
	local PFX = {}
	PFX.f=Instance.new("Part")
	PFX.f.Name="PERFECT_PARTICLE_CLONE"
	PFX.f.Anchored=true
	PFX.f.CanCollide=false
	PFX.f.CanQuery=false
	PFX.f.CanTouch=false
	PFX.f.Transparency=1
	PFX.f.Size=Vector3.new(1,1,1)
	PFX.f.CFrame=hrp.CFrame*CFrame.new(0,0,-3)
	PFX.f.Parent=workspace
	PFX.att={}
	PFX.emit={}
	PFX.att[1]=Instance.new('Attachment')
	PFX.att[1].Name='Attachment1'
	PFX.att[1].Parent=PFX.f
	PFX.emit[1]=Instance.new('ParticleEmitter')
	PFX.emit[1].Name="Glow"
	PFX.emit[1].Brightness=5
	PFX.emit[1].Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(0.3333333432674408,1,1)),ColorSequenceKeypoint.new(1,Color3.new(0.3333333432674408,1,1))})
	PFX.emit[1].LightEmission=1
	PFX.emit[1].LightInfluence=0
	PFX.emit[1].Orientation=Enum.ParticleOrientation.FacingCamera
	PFX.emit[1].Size=NumberSequence.new({NumberSequenceKeypoint.new(0,0,0),NumberSequenceKeypoint.new(0.11349692940711975,2.0101780891418457,0),NumberSequenceKeypoint.new(0.38650307059288025,4.6564884185791016,0),NumberSequenceKeypoint.new(0.69478523731231689,5.8269720077514648,0),NumberSequenceKeypoint.new(1,6,0)})
	PFX.emit[1].Squash=NumberSequence.new({NumberSequenceKeypoint.new(0,0,0),NumberSequenceKeypoint.new(1,0,0)})
	PFX.emit[1].Texture="rbxassetid://14511831163"
	PFX.emit[1].Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,0,0),NumberSequenceKeypoint.new(1,1,0)})
	PFX.emit[1].ZOffset=0
	PFX.emit[1].EmissionDirection=Enum.NormalId.Top
	PFX.emit[1].Enabled=false
	PFX.emit[1].Lifetime=NumberRange.new(0.15000000596046448,0.15000000596046448)
	PFX.emit[1].Rate=0
	PFX.emit[1].RotSpeed=NumberRange.new(0,0)
	PFX.emit[1].Rotation=NumberRange.new(0,0)
	PFX.emit[1].Speed=NumberRange.new(0,0)
	PFX.emit[1].SpreadAngle=Vector2.new(0,0)
	PFX.emit[1].TimeScale=1
	PFX.emit[1].Acceleration=Vector3.new(0,0,0)
	PFX.emit[1].Drag=0
	PFX.emit[1].VelocityInheritance=0
	PFX.emit[1].WindAffectsDrag=false
	PFX.emit[1].Shape=Enum.ParticleEmitterShape.Box
	PFX.emit[1].ShapeInOut=Enum.ParticleEmitterShapeInOut.Outward
	PFX.emit[1].ShapePartial=1
	PFX.emit[1].ShapeStyle=Enum.ParticleEmitterShapeStyle.Volume
	PFX.emit[1].FlipbookFramerate=NumberRange.new(1,1)
	PFX.emit[1].FlipbookLayout=Enum.ParticleFlipbookLayout.None
	PFX.emit[1].FlipbookMode=Enum.ParticleFlipbookMode.Loop
	PFX.emit[1].FlipbookStartRandom=false
	PFX.emit[1].LockedToPart=true
	PFX.emit[1].Parent=PFX.att[1]
	PFX.emit[1]:Emit(15)
	PFX.att[2]=Instance.new('Attachment')
	PFX.att[2].Name='Attachment2'
	PFX.att[2].Parent=PFX.f
	PFX.emit[2]=Instance.new('ParticleEmitter')
	PFX.emit[2].Name="Sparks"
	PFX.emit[2].Brightness=5
	PFX.emit[2].Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(0.3333333432674408,1,1)),ColorSequenceKeypoint.new(1,Color3.new(0.3333333432674408,1,1))})
	PFX.emit[2].LightEmission=-10
	PFX.emit[2].LightInfluence=0
	PFX.emit[2].Orientation=Enum.ParticleOrientation.VelocityParallel
	PFX.emit[2].Size=NumberSequence.new({NumberSequenceKeypoint.new(0,0,0),NumberSequenceKeypoint.new(0.16500000655651093,3,0.23899999260902405),NumberSequenceKeypoint.new(0.4830000102519989,1,0.23899999260902405),NumberSequenceKeypoint.new(1,0,0)})
	PFX.emit[2].Squash=NumberSequence.new({NumberSequenceKeypoint.new(0,0,0),NumberSequenceKeypoint.new(1,0,0)})
	PFX.emit[2].Texture="rbxassetid://6660412891"
	PFX.emit[2].Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,0,0),NumberSequenceKeypoint.new(0.55774456262588501,0.18208956718444824,0),NumberSequenceKeypoint.new(0.89402174949645996,0.87164175510406494,0),NumberSequenceKeypoint.new(1,1,0)})
	PFX.emit[2].ZOffset=1
	PFX.emit[2].EmissionDirection=Enum.NormalId.Top
	PFX.emit[2].Enabled=false
	PFX.emit[2].Lifetime=NumberRange.new(0.30000001192092896,0.5)
	PFX.emit[2].Rate=0
	PFX.emit[2].RotSpeed=NumberRange.new(0,0)
	PFX.emit[2].Rotation=NumberRange.new(90,90)
	PFX.emit[2].Speed=NumberRange.new(20,100)
	PFX.emit[2].SpreadAngle=Vector2.new(180,-180)
	PFX.emit[2].TimeScale=1
	PFX.emit[2].Acceleration=Vector3.new(0,0,0)
	PFX.emit[2].Drag=5
	PFX.emit[2].VelocityInheritance=0
	PFX.emit[2].WindAffectsDrag=false
	PFX.emit[2].Shape=Enum.ParticleEmitterShape.Box
	PFX.emit[2].ShapeInOut=Enum.ParticleEmitterShapeInOut.Outward
	PFX.emit[2].ShapePartial=1
	PFX.emit[2].ShapeStyle=Enum.ParticleEmitterShapeStyle.Volume
	PFX.emit[2].FlipbookFramerate=NumberRange.new(1,1)
	PFX.emit[2].FlipbookLayout=Enum.ParticleFlipbookLayout.None
	PFX.emit[2].FlipbookMode=Enum.ParticleFlipbookMode.Loop
	PFX.emit[2].FlipbookStartRandom=false
	PFX.emit[2].LockedToPart=false
	PFX.emit[2].Parent=PFX.att[2]
	PFX.emit[2]:Emit(0)
	PFX.att[3]=Instance.new('Attachment')
	PFX.att[3].Name='Attachment3'
	PFX.att[3].Parent=PFX.f
PFX.emit[3]=Instance.new('ParticleEmitter')
PFX.emit[3].Name="Wind2"
PFX.emit[3].Brightness=5
PFX.emit[3].Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(0.3333333432674408,1,1)),ColorSequenceKeypoint.new(1,Color3.new(0.3333333432674408,1,1))})
PFX.emit[3].LightEmission=1
PFX.emit[3].LightInfluence=0
PFX.emit[3].Orientation=Enum.ParticleOrientation.VelocityPerpendicular
PFX.emit[3].Size=NumberSequence.new({NumberSequenceKeypoint.new(0,40,0),NumberSequenceKeypoint.new(1,40,0)})
PFX.emit[3].Squash=NumberSequence.new({NumberSequenceKeypoint.new(0,-3,0),NumberSequenceKeypoint.new(1,0,0)})
PFX.emit[3].Texture="rbxassetid://1053548563"
PFX.emit[3].Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,0,0),NumberSequenceKeypoint.new(1,1,0)})
PFX.emit[3].ZOffset=0
PFX.emit[3].EmissionDirection=Enum.NormalId.Top
PFX.emit[3].Enabled=false
PFX.emit[3].Lifetime=NumberRange.new(0.10000000149011612,0.10000000149011612)
PFX.emit[3].Rate=100
PFX.emit[3].RotSpeed=NumberRange.new(0,0)
PFX.emit[3].Rotation=NumberRange.new(-360,360)
PFX.emit[3].Speed=NumberRange.new(0.0099999997764825821,0.0099999997764825821)
PFX.emit[3].SpreadAngle=Vector2.new(360,360)
PFX.emit[3].TimeScale=1
PFX.emit[3].Acceleration=Vector3.new(0,0,0)
PFX.emit[3].Drag=0
PFX.emit[3].VelocityInheritance=0
PFX.emit[3].WindAffectsDrag=false
PFX.emit[3].Shape=Enum.ParticleEmitterShape.Box
PFX.emit[3].ShapeInOut=Enum.ParticleEmitterShapeInOut.Outward
PFX.emit[3].ShapePartial=1
PFX.emit[3].ShapeStyle=Enum.ParticleEmitterShapeStyle.Volume
PFX.emit[3].FlipbookFramerate=NumberRange.new(1,1)
PFX.emit[3].FlipbookLayout=Enum.ParticleFlipbookLayout.None
PFX.emit[3].FlipbookMode=Enum.ParticleFlipbookMode.Loop
PFX.emit[3].FlipbookStartRandom=false
PFX.emit[3].LockedToPart=false
PFX.emit[3].Parent=PFX.att[3]
PFX.emit[3]:Emit(15)
PFX.att[4]=Instance.new('Attachment')
PFX.att[4].Name='Attachment4'
PFX.att[4].Parent=PFX.f
PFX.emit[4]=Instance.new('ParticleEmitter')
PFX.emit[4].Name="Charge"
PFX.emit[4].Brightness=20
PFX.emit[4].Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(0.3333333432674408,1,1)),ColorSequenceKeypoint.new(1,Color3.new(0.3333333432674408,1,1))})
PFX.emit[4].LightEmission=1
PFX.emit[4].LightInfluence=0
PFX.emit[4].Orientation=Enum.ParticleOrientation.FacingCamera
PFX.emit[4].Size=NumberSequence.new({NumberSequenceKeypoint.new(0,11.22735595703125,0),NumberSequenceKeypoint.new(0.4622119665145874,9.9736347198486328,0),NumberSequenceKeypoint.new(0.72621196508407593,8.5140781402587891,0),NumberSequenceKeypoint.new(0.8788343071937561,5.6743001937866211,0),NumberSequenceKeypoint.new(1,0,0)})
PFX.emit[4].Squash=NumberSequence.new({NumberSequenceKeypoint.new(0,3,0),NumberSequenceKeypoint.new(0.45245397090911865,-3,0),NumberSequenceKeypoint.new(1,0,0)})
PFX.emit[4].Texture="rbxassetid://7216849325"
PFX.emit[4].Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,1,0),NumberSequenceKeypoint.new(1,0,0)})
PFX.emit[4].ZOffset=5
PFX.emit[4].EmissionDirection=Enum.NormalId.Top
PFX.emit[4].Enabled=false
PFX.emit[4].Lifetime=NumberRange.new(0.30000001192092896,0.30000001192092896)
PFX.emit[4].Rate=0
PFX.emit[4].RotSpeed=NumberRange.new(0,0)
PFX.emit[4].Rotation=NumberRange.new(0,0)
PFX.emit[4].Speed=NumberRange.new(0,0)
PFX.emit[4].SpreadAngle=Vector2.new(0,0)
PFX.emit[4].TimeScale=1
PFX.emit[4].Acceleration=Vector3.new(0,0,0)
PFX.emit[4].Drag=0
PFX.emit[4].VelocityInheritance=0
PFX.emit[4].WindAffectsDrag=false
PFX.emit[4].Shape=Enum.ParticleEmitterShape.Box
PFX.emit[4].ShapeInOut=Enum.ParticleEmitterShapeInOut.Outward
PFX.emit[4].ShapePartial=1
PFX.emit[4].ShapeStyle=Enum.ParticleEmitterShapeStyle.Volume
PFX.emit[4].FlipbookFramerate=NumberRange.new(1,1)
PFX.emit[4].FlipbookLayout=Enum.ParticleFlipbookLayout.None
PFX.emit[4].FlipbookMode=Enum.ParticleFlipbookMode.Loop
PFX.emit[4].FlipbookStartRandom=false
PFX.emit[4].LockedToPart=true
PFX.emit[4].Parent=PFX.att[4]
PFX.emit[4]:Emit(0)
PFX.att[5]=Instance.new('Attachment')
PFX.att[5].Name='Attachment5'
PFX.att[5].Parent=PFX.f
PFX.emit[5]=Instance.new('ParticleEmitter')
PFX.emit[5].Name="Flames"
PFX.emit[5].Brightness=15
PFX.emit[5].Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(0.3333333432674408,1,1)),ColorSequenceKeypoint.new(1,Color3.new(0.3333333432674408,1,1))})
PFX.emit[5].LightEmission=-3
PFX.emit[5].LightInfluence=0
PFX.emit[5].Orientation=Enum.ParticleOrientation.FacingCamera
PFX.emit[5].Size=NumberSequence.new({NumberSequenceKeypoint.new(0,0,0),NumberSequenceKeypoint.new(0.14263802766799927,1.1959284543991089,1),NumberSequenceKeypoint.new(0.33742329478263855,2.6208651065826416,1.1705875396728516),NumberSequenceKeypoint.new(0.73619627952575684,3.6132316589355469,1.0872699022293091),NumberSequenceKeypoint.new(1,3.8167941570281982,0.99236631393432617)})
PFX.emit[5].Squash=NumberSequence.new({NumberSequenceKeypoint.new(0,0,0),NumberSequenceKeypoint.new(1,0,0)})
PFX.emit[5].Texture="rbxassetid://15269497616"
PFX.emit[5].Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,0,0),NumberSequenceKeypoint.new(1,0,0)})
PFX.emit[5].ZOffset=0
PFX.emit[5].EmissionDirection=Enum.NormalId.Top
PFX.emit[5].Enabled=false
PFX.emit[5].Lifetime=NumberRange.new(0.30000001192092896,0.60000002384185791)
PFX.emit[5].Rate=0
PFX.emit[5].RotSpeed=NumberRange.new(0,0)
PFX.emit[5].Rotation=NumberRange.new(-360,360)
PFX.emit[5].Speed=NumberRange.new(0,50)
PFX.emit[5].SpreadAngle=Vector2.new(360,360)
PFX.emit[5].TimeScale=0.80000001192092896
PFX.emit[5].Acceleration=Vector3.new(0,0,0)
PFX.emit[5].Drag=15
PFX.emit[5].VelocityInheritance=0
PFX.emit[5].WindAffectsDrag=false
PFX.emit[5].Shape=Enum.ParticleEmitterShape.Box
PFX.emit[5].ShapeInOut=Enum.ParticleEmitterShapeInOut.Outward
PFX.emit[5].ShapePartial=1
PFX.emit[5].ShapeStyle=Enum.ParticleEmitterShapeStyle.Volume
PFX.emit[5].FlipbookFramerate=NumberRange.new(1,1)
PFX.emit[5].FlipbookLayout=Enum.ParticleFlipbookLayout.Grid4x4
PFX.emit[5].FlipbookMode=Enum.ParticleFlipbookMode.OneShot
PFX.emit[5].FlipbookStartRandom=true
PFX.emit[5].LockedToPart=false
PFX.emit[5].Parent=PFX.att[5]
PFX.emit[5]:Emit(0)
PFX.att[6]=Instance.new('Attachment')
PFX.att[6].Name='Attachment6'
PFX.att[6].Parent=PFX.f
PFX.emit[6]=Instance.new('ParticleEmitter')
PFX.emit[6].Name="Wind"
PFX.emit[6].Brightness=5
PFX.emit[6].Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.new(1,1,1))})
PFX.emit[6].LightEmission=0
PFX.emit[6].LightInfluence=0
PFX.emit[6].Orientation=Enum.ParticleOrientation.VelocityPerpendicular
PFX.emit[6].Size=NumberSequence.new({NumberSequenceKeypoint.new(0,6.3269996643066406,0),NumberSequenceKeypoint.new(0.11426397413015366,13.73967170715332,0),NumberSequenceKeypoint.new(0.38426396250724792,18.831132888793945,0),NumberSequenceKeypoint.new(1,21.820549011230469,0)})
PFX.emit[6].Squash=NumberSequence.new({NumberSequenceKeypoint.new(0,0,0),NumberSequenceKeypoint.new(1,0,0)})
PFX.emit[6].Texture="rbxassetid://7216847656"
PFX.emit[6].Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,0.85082870721817017,0),NumberSequenceKeypoint.new(1,1,0)})
PFX.emit[6].ZOffset=0
PFX.emit[6].EmissionDirection=Enum.NormalId.Top
PFX.emit[6].Enabled=false
PFX.emit[6].Lifetime=NumberRange.new(0.20000000298023224,0.60000002384185791)
PFX.emit[6].Rate=100
PFX.emit[6].RotSpeed=NumberRange.new(750,750)
PFX.emit[6].Rotation=NumberRange.new(-360,360)
PFX.emit[6].Speed=NumberRange.new(0.0099999997764825821,0.0099999997764825821)
PFX.emit[6].SpreadAngle=Vector2.new(360,360)
PFX.emit[6].TimeScale=1
PFX.emit[6].Acceleration=Vector3.new(0,0,0)
PFX.emit[6].Drag=0
PFX.emit[6].VelocityInheritance=0
PFX.emit[6].WindAffectsDrag=false
PFX.emit[6].Shape=Enum.ParticleEmitterShape.Box
PFX.emit[6].ShapeInOut=Enum.ParticleEmitterShapeInOut.Outward
PFX.emit[6].ShapePartial=1
PFX.emit[6].ShapeStyle=Enum.ParticleEmitterShapeStyle.Volume
PFX.emit[6].FlipbookFramerate=NumberRange.new(1,1)
PFX.emit[6].FlipbookLayout=Enum.ParticleFlipbookLayout.None
PFX.emit[6].FlipbookMode=Enum.ParticleFlipbookMode.Loop
PFX.emit[6].FlipbookStartRandom=false
PFX.emit[6].LockedToPart=true
PFX.emit[6].Parent=PFX.att[6]
PFX.emit[6]:Emit(15)
PFX.att[7]=Instance.new('Attachment')
PFX.att[7].Name='Attachment7'
PFX.att[7].Parent=PFX.f
PFX.emit[7]=Instance.new('ParticleEmitter')
PFX.emit[7].Name="BlackFlashSparks"
PFX.emit[7].Brightness=15
PFX.emit[7].Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,0,0)),ColorSequenceKeypoint.new(1,Color3.new(1,0,0))})
PFX.emit[7].LightEmission=0
PFX.emit[7].LightInfluence=0
PFX.emit[7].Orientation=Enum.ParticleOrientation.VelocityParallel
PFX.emit[7].Size=NumberSequence.new({NumberSequenceKeypoint.new(0,2,1),NumberSequenceKeypoint.new(1,0,0)})
PFX.emit[7].Squash=NumberSequence.new({NumberSequenceKeypoint.new(0,0,0),NumberSequenceKeypoint.new(0.30000001192092896,3,0),NumberSequenceKeypoint.new(1,0,0)})
PFX.emit[7].Texture="rbxassetid://15407518755"
PFX.emit[7].Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,0,0),NumberSequenceKeypoint.new(1,0,0)})
PFX.emit[7].ZOffset=0
PFX.emit[7].EmissionDirection=Enum.NormalId.Front
PFX.emit[7].Enabled=false
PFX.emit[7].Lifetime=NumberRange.new(0.30000001192092896,0.44999998807907104)
PFX.emit[7].Rate=100
PFX.emit[7].RotSpeed=NumberRange.new(0,0)
PFX.emit[7].Rotation=NumberRange.new(90,90)
PFX.emit[7].Speed=NumberRange.new(25,225)
PFX.emit[7].SpreadAngle=Vector2.new(30,30)
PFX.emit[7].TimeScale=1
PFX.emit[7].Acceleration=Vector3.new(0,0,0)
PFX.emit[7].Drag=10
PFX.emit[7].VelocityInheritance=0
PFX.emit[7].WindAffectsDrag=false
PFX.emit[7].Shape=Enum.ParticleEmitterShape.Box
PFX.emit[7].ShapeInOut=Enum.ParticleEmitterShapeInOut.Outward
PFX.emit[7].ShapePartial=1
PFX.emit[7].ShapeStyle=Enum.ParticleEmitterShapeStyle.Volume
PFX.emit[7].FlipbookFramerate=NumberRange.new(1,1)
PFX.emit[7].FlipbookLayout=Enum.ParticleFlipbookLayout.None
PFX.emit[7].FlipbookMode=Enum.ParticleFlipbookMode.Loop
PFX.emit[7].FlipbookStartRandom=false
PFX.emit[7].LockedToPart=false
PFX.emit[7].Parent=PFX.att[7]
PFX.emit[7]:Emit(15)
PFX.att[8]=Instance.new('Attachment')
PFX.att[8].Name='Attachment8'
PFX.att[8].Parent=PFX.f
PFX.emit[8]=Instance.new('ParticleEmitter')
PFX.emit[8].Name="BlackFlashWind"
PFX.emit[8].Brightness=1
PFX.emit[8].Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(1,1,1)),ColorSequenceKeypoint.new(1,Color3.new(1,1,1))})
PFX.emit[8].LightEmission=1
PFX.emit[8].LightInfluence=1
PFX.emit[8].Orientation=Enum.ParticleOrientation.VelocityPerpendicular
PFX.emit[8].Size=NumberSequence.new({NumberSequenceKeypoint.new(0,0,0),NumberSequenceKeypoint.new(0.034601990133523941,3.1418404579162598,3.4767735004425049),NumberSequenceKeypoint.new(0.14660198986530304,6.4845552444458008,3.7845990657806396),NumberSequenceKeypoint.new(0.3046019971370697,9.2107944488525391,3.4841189384460449),NumberSequenceKeypoint.new(0.6066020131111145,11.596253395080566,2.7794191837310791),NumberSequenceKeypoint.new(1,13.226341247558594,2.7570233345031738)})
PFX.emit[8].Squash=NumberSequence.new({NumberSequenceKeypoint.new(0,0,0),NumberSequenceKeypoint.new(1,0,0)})
PFX.emit[8].Texture="rbxassetid://9293225960"
PFX.emit[8].Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,0.89999997615814209,0),NumberSequenceKeypoint.new(1,1,0)})
PFX.emit[8].ZOffset=2
PFX.emit[8].EmissionDirection=Enum.NormalId.Front
PFX.emit[8].Enabled=false
PFX.emit[8].Lifetime=NumberRange.new(0.20000000298023224,0.69999998807907104)
PFX.emit[8].Rate=50
PFX.emit[8].RotSpeed=NumberRange.new(-200,200)
PFX.emit[8].Rotation=NumberRange.new(-360,360)
PFX.emit[8].Speed=NumberRange.new(0.10000000149011612,100)
PFX.emit[8].SpreadAngle=Vector2.new(20,20)
PFX.emit[8].TimeScale=1
PFX.emit[8].Acceleration=Vector3.new(0,0,0)
PFX.emit[8].Drag=10
PFX.emit[8].VelocityInheritance=0
PFX.emit[8].WindAffectsDrag=false
PFX.emit[8].Shape=Enum.ParticleEmitterShape.Box
PFX.emit[8].ShapeInOut=Enum.ParticleEmitterShapeInOut.Outward
PFX.emit[8].ShapePartial=1
PFX.emit[8].ShapeStyle=Enum.ParticleEmitterShapeStyle.Volume
PFX.emit[8].FlipbookFramerate=NumberRange.new(1,1)
PFX.emit[8].FlipbookLayout=Enum.ParticleFlipbookLayout.Grid2x2
PFX.emit[8].FlipbookMode=Enum.ParticleFlipbookMode.OneShot
PFX.emit[8].FlipbookStartRandom=false
PFX.emit[8].LockedToPart=false
PFX.emit[8].Parent=PFX.att[8]
PFX.emit[8]:Emit(15)
	game:GetService('Debris'):AddItem(PFX.f,20)
end
if not workspace:FindFirstChild("Effects") then
	local effectsFolder = Instance.new("Folder")
	effectsFolder.Name = "Effects"
	effectsFolder.Parent = workspace
end
local function BFH(attacker, victim)
	if not attacker:FindFirstChild("HumanoidRootPart") then return end
	local victimHRP = victim:FindFirstChild("HumanoidRootPart")
	if not victimHRP then return end
	local effectPart = Instance.new("Part")
	effectPart.Name = "BlackFlashHit"
	effectPart.Anchored = true
	effectPart.CanCollide = false
	effectPart.CanQuery = false
	effectPart.CanTouch = false
	effectPart.Transparency = 1
	effectPart.Size = Vector3.new(1, 1, 1)
	effectPart.Position = victimHRP.Position
	effectPart.Parent = workspace.Effects
	Debris:AddItem(effectPart, 1)
	SFX("https://raw.githubusercontent.com/NetlessScripter/Collab/refs/heads/main/C5BE36FC-89B0-40B7-A70F-3E35F8D3D0E80216_000231.mp3?raw=true", 1.65, workspace, 0)
	local pointLight = Instance.new("PointLight", effectPart)
	pointLight.Brightness = 10
	pointLight.Color = Color3.fromRGB(255, 0, 0)
	pointLight.Range = 30
	local spotLight = Instance.new("SpotLight", effectPart)
	spotLight.Brightness = 15
	spotLight.Color = Color3.fromRGB(255, 0, 0)
	spotLight.Range = 50
	spotLight.Angle = 90
	spotLight.Face = Enum.NormalId.Front
	local att1 = Instance.new('Attachment', effectPart)
	local wind2 = Instance.new('ParticleEmitter', att1)
	wind2.Name = "Wind2"
	wind2.Brightness = 5
	wind2.Color = ColorSequence.new({ColorSequenceKeypoint.new(0, Color3.new(1, 0, 0)), ColorSequenceKeypoint.new(1, Color3.new(1, 0, 0))})
	wind2.LightEmission = 1
	wind2.LightInfluence = 0
	wind2.Orientation = Enum.ParticleOrientation.VelocityPerpendicular
	wind2.Size = NumberSequence.new({NumberSequenceKeypoint.new(0, 40, 0), NumberSequenceKeypoint.new(1, 40, 0)})
	wind2.Squash = NumberSequence.new({NumberSequenceKeypoint.new(0, -3, 0), NumberSequenceKeypoint.new(1, 0, 0)})
	wind2.Texture = "rbxassetid://1053548563"
	wind2.Transparency = NumberSequence.new({NumberSequenceKeypoint.new(0, 0, 0), NumberSequenceKeypoint.new(1, 1, 0)})
	wind2.ZOffset = 0
	wind2.EmissionDirection = Enum.NormalId.Top
	wind2.Enabled = false
	wind2.Lifetime = NumberRange.new(0.1, 0.1)
	wind2.Rate = 0
	wind2.RotSpeed = NumberRange.new(0, 0)
	wind2.Rotation = NumberRange.new(-360, 360)
	wind2.Speed = NumberRange.new(0.01, 0.01)
	wind2.SpreadAngle = Vector2.new(360, 360)
	wind2.TimeScale = 1
	wind2.Acceleration = Vector3.new(0, 0, 0)
	wind2.Drag = 0
	wind2.VelocityInheritance = 0
	wind2.WindAffectsDrag = false
	wind2.Shape = Enum.ParticleEmitterShape.Box
	wind2.ShapeInOut = Enum.ParticleEmitterShapeInOut.Outward
	wind2.ShapePartial = 1
	wind2.ShapeStyle = Enum.ParticleEmitterShapeStyle.Volume
	wind2.LockedToPart = false
	local att2 = Instance.new('Attachment', effectPart)
	local blast = Instance.new('ParticleEmitter', att2)
	blast.Name = "Blast"
	blast.Brightness = 1
	blast.Color = ColorSequence.new({ColorSequenceKeypoint.new(0, Color3.new(1, 0, 0)), ColorSequenceKeypoint.new(1, Color3.new(1, 0, 0))})
	blast.LightEmission = 1
	blast.LightInfluence = 1
	blast.Orientation = Enum.ParticleOrientation.VelocityParallel
	blast.Size = NumberSequence.new({NumberSequenceKeypoint.new(0, 10, 0), NumberSequenceKeypoint.new(1, 38.029678344726562, 0)})
	blast.Squash = NumberSequence.new({NumberSequenceKeypoint.new(0, -3, 0), NumberSequenceKeypoint.new(1, 2.5124998092651367, 0)})
	blast.Texture = "rbxassetid://7994629137"
	blast.Transparency = NumberSequence.new({NumberSequenceKeypoint.new(0, 0, 0), NumberSequenceKeypoint.new(1, 0, 0)})
	blast.ZOffset = 0
	blast.EmissionDirection = Enum.NormalId.Front
	blast.Enabled = false
	blast.Lifetime = NumberRange.new(0.1, 0.1)
	blast.Rate = 100
	blast.RotSpeed = NumberRange.new(0, 0)
	blast.Rotation = NumberRange.new(-360, 360)
	blast.Speed = NumberRange.new(0.1, 0.1)
	blast.SpreadAngle = Vector2.new(360, 360)
	blast.TimeScale = 1
	blast.Acceleration = Vector3.new(0, 0, 0)
	blast.Drag = 0
	blast.VelocityInheritance = 0
	blast.WindAffectsDrag = false
	blast.Shape = Enum.ParticleEmitterShape.Box
	blast.ShapeInOut = Enum.ParticleEmitterShapeInOut.Outward
	blast.ShapePartial = 1
	blast.ShapeStyle = Enum.ParticleEmitterShapeStyle.Volume
	blast.LockedToPart = false
	local att3 = Instance.new('Attachment', effectPart)
	local sparks = Instance.new('ParticleEmitter', att3)
	sparks.Name = "Sparks"
	sparks.Brightness = 15
	sparks.Color = ColorSequence.new({ColorSequenceKeypoint.new(0, Color3.new(1, 0, 0)), ColorSequenceKeypoint.new(1, Color3.new(1, 0, 0))})
	sparks.LightEmission = 0
	sparks.LightInfluence = 0
	sparks.Orientation = Enum.ParticleOrientation.VelocityParallel
	sparks.Size = NumberSequence.new({NumberSequenceKeypoint.new(0, 2, 1), NumberSequenceKeypoint.new(1, 0, 0)})
	sparks.Squash = NumberSequence.new({NumberSequenceKeypoint.new(0, 0, 0), NumberSequenceKeypoint.new(0.3, 3, 0), NumberSequenceKeypoint.new(1, 0, 0)})
	sparks.Texture = "rbxassetid://15407518755"
	sparks.Transparency = NumberSequence.new({NumberSequenceKeypoint.new(0, 0, 0), NumberSequenceKeypoint.new(1, 0, 0)})
	sparks.ZOffset = 0
	sparks.EmissionDirection = Enum.NormalId.Front
	sparks.Enabled = false
	sparks.Lifetime = NumberRange.new(0.3, 0.45)
	sparks.Rate = 100
	sparks.RotSpeed = NumberRange.new(0, 0)
	sparks.Rotation = NumberRange.new(90, 90)
	sparks.Speed = NumberRange.new(40, 150)
	sparks.SpreadAngle = Vector2.new(360, 360)
	sparks.TimeScale = 1
	sparks.Acceleration = Vector3.new(0, 0, 0)
	sparks.Drag = 10
	sparks.VelocityInheritance = 0
	sparks.WindAffectsDrag = false
	sparks.Shape = Enum.ParticleEmitterShape.Box
	sparks.ShapeInOut = Enum.ParticleEmitterShapeInOut.Outward
	sparks.ShapePartial = 1
	sparks.ShapeStyle = Enum.ParticleEmitterShapeStyle.Volume
	sparks.LockedToPart = false
	local att4 = Instance.new('Attachment', effectPart)
	local lightning = Instance.new('ParticleEmitter', att4)
	lightning.Name = "Lightning"
	lightning.Brightness = 5
	lightning.Color = ColorSequence.new({ColorSequenceKeypoint.new(0, Color3.new(1, 0, 0)), ColorSequenceKeypoint.new(1, Color3.new(1, 0, 0))})
	lightning.LightEmission = 0
	lightning.LightInfluence = 0
	lightning.Orientation = Enum.ParticleOrientation.VelocityPerpendicular
	lightning.Size = NumberSequence.new({NumberSequenceKeypoint.new(0, 0, 0), NumberSequenceKeypoint.new(0.1, 8.66, 0), NumberSequenceKeypoint.new(0.37, 9.52, 0), NumberSequenceKeypoint.new(1, 10, 0)})
	lightning.Squash = NumberSequence.new({NumberSequenceKeypoint.new(0, 0, 0), NumberSequenceKeypoint.new(1, 0, 0)})
	lightning.Texture = "rbxassetid://14255829980"
	lightning.Transparency = NumberSequence.new({NumberSequenceKeypoint.new(0, 0, 0), NumberSequenceKeypoint.new(1, 0, 0)})
	lightning.ZOffset = 2
	lightning.EmissionDirection = Enum.NormalId.Top
	lightning.Enabled = false
	lightning.Lifetime = NumberRange.new(0.2, 0.8)
	lightning.Rate = 100
	lightning.RotSpeed = NumberRange.new(0, 0)
	lightning.Rotation = NumberRange.new(0, 360)
	lightning.Speed = NumberRange.new(0.001, 10)
	lightning.SpreadAngle = Vector2.new(360, 360)
	lightning.TimeScale = 1
	lightning.Acceleration = Vector3.new(0, 0, 0)
	lightning.Drag = 3
	lightning.VelocityInheritance = 0
	lightning.WindAffectsDrag = false
	lightning.Shape = Enum.ParticleEmitterShape.Box
	lightning.ShapeInOut = Enum.ParticleEmitterShapeInOut.Outward
	lightning.ShapePartial = 1
	lightning.ShapeStyle = Enum.ParticleEmitterShapeStyle.Volume
	lightning.FlipbookLayout = Enum.ParticleFlipbookLayout.Grid4x4
	lightning.FlipbookMode = Enum.ParticleFlipbookMode.OneShot
	lightning.LockedToPart = true
	local att5 = Instance.new('Attachment', effectPart)
	local wind = Instance.new('ParticleEmitter', att5)
	wind.Name = "Wind"
	wind.Brightness = 5
	wind.Color = ColorSequence.new({ColorSequenceKeypoint.new(0, Color3.new(1, 1, 1)), ColorSequenceKeypoint.new(1, Color3.new(1, 1, 1))})
	wind.LightEmission = 0
	wind.LightInfluence = 0
	wind.Orientation = Enum.ParticleOrientation.VelocityPerpendicular
	wind.Size = NumberSequence.new({NumberSequenceKeypoint.new(0, 6.327, 0), NumberSequenceKeypoint.new(0.11, 13.74, 0), NumberSequenceKeypoint.new(0.38, 18.83, 0), NumberSequenceKeypoint.new(1, 21.82, 0)})
	wind.Squash = NumberSequence.new({NumberSequenceKeypoint.new(0, 0, 0), NumberSequenceKeypoint.new(1, 0, 0)})
	wind.Texture = "rbxassetid://7216847656"
	wind.Transparency = NumberSequence.new({NumberSequenceKeypoint.new(0, 0.85, 0), NumberSequenceKeypoint.new(1, 1, 0)})
	wind.ZOffset = 0
	wind.EmissionDirection = Enum.NormalId.Top
	wind.Enabled = false
	wind.Lifetime = NumberRange.new(0.2, 0.6)
	wind.Rate = 100
	wind.RotSpeed = NumberRange.new(750, 750)
	wind.Rotation = NumberRange.new(-360, 360)
	wind.Speed = NumberRange.new(0.01, 0.01)
	wind.SpreadAngle = Vector2.new(360, 360)
	wind.TimeScale = 1
	wind.Acceleration = Vector3.new(0, 0, 0)
	wind.Drag = 0
	wind.VelocityInheritance = 0
	wind.WindAffectsDrag = false
	wind.Shape = Enum.ParticleEmitterShape.Box
	wind.ShapeInOut = Enum.ParticleEmitterShapeInOut.Outward
	wind.ShapePartial = 1
	wind.ShapeStyle = Enum.ParticleEmitterShapeStyle.Volume
	wind.LockedToPart = true
	wind2:Emit(8)
	TweenService:Create(pointLight, TweenInfo.new(1), {
		Brightness = 0;
	}):Play()
	TweenService:Create(spotLight, TweenInfo.new(1), {
		Brightness = 0;
	}):Play()
	task.delay(0.1, function()
		blast:Emit(8)
		sparks:Emit(15)
		lightning:Emit(6)
		wind:Emit(7)
	end)
	local player = game.Players.LocalPlayer
	if player and player.Character and (player.Character == attacker or player.Character == victim) then
		local colorCorrection = Instance.new("ColorCorrectionEffect")
		colorCorrection.Name = "BlackFlashCC"
		colorCorrection.Brightness = -200
		colorCorrection.Contrast = 1000
		colorCorrection.Saturation = -1
		colorCorrection.TintColor = Color3.fromRGB(255, 0, 0)
		colorCorrection.Enabled = true
		colorCorrection.Parent = game.Lighting
		task.wait(0.04)
		colorCorrection.TintColor = Color3.new(1, 1, 1)
		task.wait(0.04)
		colorCorrection.Brightness = 200
		colorCorrection.Contrast = -1000
		task.wait(0.04)
		colorCorrection:Destroy()
	end
end
local function CAP(character)
	if not character then return end
	local PFX = {}
	PFX.ra=character:FindFirstChild("Right Arm") or character:FindFirstChild("RightHand") or character:FindFirstChild("RightLowerArm")
	if not PFX.ra then
		return
	end
	PFX.f=Instance.new("Part")
	PFX.f.Name="PERFECT_PARTICLE_CLONE"
	PFX.f.Anchored=false
	PFX.f.CanCollide=false
	PFX.f.CanQuery=false
	PFX.f.CanTouch=false
	PFX.f.Transparency=1
	PFX.f.Size=Vector3.new(1,1,1)
	PFX.f.CFrame=PFX.ra.CFrame
	PFX.f.Parent=PFX.ra
	PFX.w=Instance.new("WeldConstraint")
	PFX.w.Part0=PFX.ra
	PFX.w.Part1=PFX.f
	PFX.w.Parent=PFX.f
	PFX.att={}
	PFX.emit={}
	PFX.att[1]=Instance.new('Attachment')
	PFX.att[1].Name="Core"
	PFX.att[1].Axis=Vector3.new(1,0,0)
	PFX.att[1].CFrame=CFrame.new(0,0,0,1,0,0,0,1,0,0,0,1)
	PFX.att[1].Orientation=Vector3.new(-0,0,0)
	PFX.att[1].Position=Vector3.new(0,0,0)
	PFX.att[1].Rotation=Vector3.new(-0,0,-0)
	PFX.att[1].SecondaryAxis=Vector3.new(0,1,0)
	PFX.att[1].Visible=false
	PFX.att[1].Parent=PFX.f
	PFX.emit[1]=Instance.new('ParticleEmitter')
	PFX.emit[1].Name="Sparks"
	PFX.emit[1].Brightness=5
	PFX.emit[1].Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(0.3333333432674408,0.66666668653488159,1)),ColorSequenceKeypoint.new(1,Color3.new(0.3333333432674408,0.66666668653488159,1))})
	PFX.emit[1].LightEmission=-5
	PFX.emit[1].LightInfluence=0
	PFX.emit[1].Orientation=Enum.ParticleOrientation.FacingCamera
	PFX.emit[1].Size=NumberSequence.new({NumberSequenceKeypoint.new(0,1,0),NumberSequenceKeypoint.new(1,1,0)})
	PFX.emit[1].Squash=NumberSequence.new({NumberSequenceKeypoint.new(0,0,0),NumberSequenceKeypoint.new(1,0,0)})
	PFX.emit[1].Texture="rbxassetid://15269497616"
	PFX.emit[1].Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,0,0),NumberSequenceKeypoint.new(1,0,0)})
	PFX.emit[1].ZOffset=0
	PFX.emit[1].EmissionDirection=Enum.NormalId.Front
	PFX.emit[1].Enabled=true
	PFX.emit[1].Lifetime=NumberRange.new(0.40000000596046448,0.60000002384185791)
	PFX.emit[1].Rate=50
	PFX.emit[1].RotSpeed=NumberRange.new(0,0)
	PFX.emit[1].Rotation=NumberRange.new(-360,360)
	PFX.emit[1].Speed=NumberRange.new(0,2)
	PFX.emit[1].SpreadAngle=Vector2.new(360,360)
	PFX.emit[1].TimeScale=1
	PFX.emit[1].Acceleration=Vector3.new(0,10,0)
	PFX.emit[1].Drag=0
	PFX.emit[1].VelocityInheritance=0.20000000298023224
	PFX.emit[1].WindAffectsDrag=false
	PFX.emit[1].Shape=Enum.ParticleEmitterShape.Box
	PFX.emit[1].ShapeInOut=Enum.ParticleEmitterShapeInOut.Outward
	PFX.emit[1].ShapePartial=1
	PFX.emit[1].ShapeStyle=Enum.ParticleEmitterShapeStyle.Volume
	PFX.emit[1].FlipbookFramerate=NumberRange.new(1,1)
	PFX.emit[1].FlipbookLayout=Enum.ParticleFlipbookLayout.Grid4x4
	PFX.emit[1].FlipbookMode=Enum.ParticleFlipbookMode.OneShot
	PFX.emit[1].FlipbookStartRandom=true
	PFX.emit[1].LockedToPart=false
	PFX.emit[1].Parent=PFX.att[1]
	PFX.emit[1]:Emit(15)
	PFX.att[2]=Instance.new('Attachment')
	PFX.att[2].Name="Core"
	PFX.att[2].Axis=Vector3.new(1,0,0)
	PFX.att[2].CFrame=CFrame.new(0,0,0,1,0,0,0,1,0,0,0,1)
	PFX.att[2].Orientation=Vector3.new(-0,0,0)
	PFX.att[2].Position=Vector3.new(0,0,0)
	PFX.att[2].Rotation=Vector3.new(-0,0,-0)
	PFX.att[2].SecondaryAxis=Vector3.new(0,1,0)
	PFX.att[2].Visible=false
	PFX.att[2].Parent=PFX.f
	PFX.emit[2]=Instance.new('ParticleEmitter')
	PFX.emit[2].Name="Aura"
	PFX.emit[2].Brightness=5
	PFX.emit[2].Color=ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.new(0.3333333432674408,0.66666668653488159,1)),ColorSequenceKeypoint.new(1,Color3.new(0.3333333432674408,0.66666668653488159,1))})
	PFX.emit[2].LightEmission=-5
	PFX.emit[2].LightInfluence=0
	PFX.emit[2].Orientation=Enum.ParticleOrientation.FacingCamera
	PFX.emit[2].Size=NumberSequence.new({NumberSequenceKeypoint.new(0,1.3486003875732422,0.69999998807907104),NumberSequenceKeypoint.new(0.36042943596839905,1.2468194961547852,0.50460124015808105),NumberSequenceKeypoint.new(0.70552146434783936,1.0178118944168091,0.35370376706123352),NumberSequenceKeypoint.new(0.86809813976287842,0.63613235950469971,0.2178070992231369),NumberSequenceKeypoint.new(1,0.38167953491210938,0)})
	PFX.emit[2].Squash=NumberSequence.new({NumberSequenceKeypoint.new(0,0,0),NumberSequenceKeypoint.new(1,0,0)})
	PFX.emit[2].Texture="rbxassetid://9285330517"
	PFX.emit[2].Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,0,0),NumberSequenceKeypoint.new(1,0,0)})
	PFX.emit[2].ZOffset=1.5
	PFX.emit[2].EmissionDirection=Enum.NormalId.Front
	PFX.emit[2].Enabled=true
	PFX.emit[2].Lifetime=NumberRange.new(0.40000000596046448,0.60000002384185791)
	PFX.emit[2].Rate=15
	PFX.emit[2].RotSpeed=NumberRange.new(0,0)
	PFX.emit[2].Rotation=NumberRange.new(-360,360)
	PFX.emit[2].Speed=NumberRange.new(0,2)
	PFX.emit[2].SpreadAngle=Vector2.new(360,360)
	PFX.emit[2].TimeScale=1
	PFX.emit[2].Acceleration=Vector3.new(0,15,0)
	PFX.emit[2].Drag=0
	PFX.emit[2].VelocityInheritance=0
	PFX.emit[2].WindAffectsDrag=false
	PFX.emit[2].Shape=Enum.ParticleEmitterShape.Box
	PFX.emit[2].ShapeInOut=Enum.ParticleEmitterShapeInOut.Outward
	PFX.emit[2].ShapePartial=1
	PFX.emit[2].ShapeStyle=Enum.ParticleEmitterShapeStyle.Volume
	PFX.emit[2].FlipbookFramerate=NumberRange.new(1,1)
	PFX.emit[2].FlipbookLayout=Enum.ParticleFlipbookLayout.Grid4x4
	PFX.emit[2].FlipbookMode=Enum.ParticleFlipbookMode.OneShot
	PFX.emit[2].FlipbookStartRandom=false
	PFX.emit[2].LockedToPart=true
	PFX.emit[2].Parent=PFX.att[2]
	PFX.emit[2]:Emit(15)
	game:GetService('Debris'):AddItem(PFX.f,0.5)
end
local function onAnimationPlayed(animationTrack, player)
	if not isAllowed(player) then return end
	local character = player.Character
	if not character then return end
	local humanoid = character:FindFirstChild("Humanoid")
	local rootPart = character:FindFirstChild("HumanoidRootPart")
	if not humanoid or not rootPart then return end
	if animationTrack.Animation.AnimationId == "rbxassetid://10468665991" then
		animationTrack:Stop()
		local anim = Instance.new("Animation")
		anim.AnimationId = "rbxassetid://129361308786827"
		local track = humanoid:LoadAnimation(anim)
		track:Play()
		track.TimePosition = 2.07
		track:AdjustSpeed(3.35)
		task.delay(1, function()
			track:Stop()
		end)
		CAP(character)
		wait(0.5)
		CurrentShaker:Shake(Presets.HeavyHit())
		Swing(character)
		BFH(character, character)
	end
end
local function setupPlayer(player)
	if not isAllowed(player) then return end
	PlayerConnections[player] = PlayerConnections[player] or {}
	local function onCharacterAdded(character)
		local humanoid = character:WaitForChild("Humanoid")
		local animConnection = humanoid.AnimationPlayed:Connect(function(animationTrack)
			onAnimationPlayed(animationTrack, player)
		end)
		table.insert(PlayerConnections[player], animConnection)
		local charRemovingConnection
		charRemovingConnection = character.AncestryChanged:Connect(function()
			if not character:IsDescendantOf(game) then
				if charRemovingConnection then
					charRemovingConnection:Disconnect()
				end
			end
		end)
		table.insert(PlayerConnections[player], charRemovingConnection)
	end
	if player.Character then
		onCharacterAdded(player.Character)
	end
	local charAddedConnection = player.CharacterAdded:Connect(onCharacterAdded)
	table.insert(PlayerConnections[player], charAddedConnection)
end
Players.PlayerRemoving:Connect(function(player)
	cleanupPlayer(player)
end)
for _, player in ipairs(Players:GetPlayers()) do
	setupPlayer(player)
end
Players.PlayerAdded:Connect(setupPlayer)
CurrentShaker:Shake(Presets.HeavyHit())
local l = game:GetService('Lighting')
do
local i = Instance.new('Sky')
i.SkyboxBk = "http://www.roblox.com/asset/?id=252760981"
i.SkyboxDn = "http://www.roblox.com/asset/?id=252763035"
i.SkyboxFt = "http://www.roblox.com/asset/?id=252761439"
i.SkyboxLf = "http://www.roblox.com/asset/?id=252760980"
i.SkyboxRt = "http://www.roblox.com/asset/?id=252760986"
i.SkyboxUp = "http://www.roblox.com/asset/?id=252762652"
i.MoonAngularSize = 11
i.MoonTextureId = "rbxasset://sky/moon.jpg"
i.SunAngularSize = 11
i.SunTextureId = "rbxassetid://1345009717"
i.Parent = l
end
do
local i = Instance.new('SunRaysEffect')
i.Intensity = 0.061000000685453415
i.Spread = 1
i.Enabled = true
i.Parent = l
end
do
local i = Instance.new('BloomEffect')
i.Intensity = 0.30000001192092896
i.Size = 52
i.Threshold = 0.9570000171661377
i.Enabled = true
i.Parent = l
end
do
local i = Instance.new('DepthOfFieldEffect')
i.FarIntensity = 0.2070000022649765
i.FocusDistance = 158.5399932861328
i.InFocusRadius = 2.440000057220459
i.NearIntensity = 0
i.Enabled = true
i.Parent = l
end
do
local i = Instance.new('ColorCorrectionEffect')
i.Brightness = 0
i.Contrast = 0
i.Saturation = -0.05000000074505806
i.TintColor = Color3.new(1,1,1)
i.Enabled = true
i.Parent = l
end
do
local i = Instance.new('Atmosphere')
i.Density = 0.25600001215934753
i.Offset = 0
i.Color = Color3.new(0.7843000292778015,0.666700005531311,0.4235000014305115)
i.Decay = Color3.new(0.36079999804496765,0.2353000044822693,0.05490000173449516)
i.Glare = 0
i.Haze = 0
i.Parent = l
end
do
local i = Instance.new('ColorCorrectionEffect')
i.Brightness = 0
i.Contrast = 0
i.Saturation = 0
i.TintColor = Color3.new(1,1,1)
i.Enabled = true
i.Parent = l
end
l.Brightness = 4
l.ClockTime = 16.59722137451172
l.FogEnd = 100000
l.FogStart = 0
l.FogColor = Color3.new(0.7529412508010864,0.7529412508010864,0.7529412508010864)
l.OutdoorAmbient = Color3.new(0.2549019753932953,0.2823529541492462,0.20784315466880798)
l.Ambient = Color3.new(0.40000003576278687,0.40000003576278687,0.40000003576278687)
l.GlobalShadows = true
l.GeographicLatitude = 48.603240966796875
l.EnvironmentSpecularScale = 1
l.EnvironmentDiffuseScale = 0.22200000286102295
l.ExposureCompensation = 0
l.ColorShift_Bottom = Color3.new(0,0,0)
l.ColorShift_Top = Color3.new(1,0.7529412508010864,0.572549045085907)
l.Technology = Enum.Technology.Future
l.ShadowSoftness = 0.04399999976158142
l.TimeOfDay = "16:35:50"
